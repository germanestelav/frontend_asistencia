import{p as b,e as I,c as o,f as m,a as e,d as r,t as d,F as f,q as h,h as D,r as u,i as N,o as n,j as g,n as p}from"./index-Jc6aNIQy.js";import{_ as k}from"./Navbar-BmhPClkr.js";import"./authStore-BuOsiNc2.js";const M={getMisRegistros:async()=>(await b.get("/asistencias/mis-registros")).data},O={class:"container mt-4"},T={class:"row"},w={class:"col"},x={key:0,class:"text-center py-5"},C={key:1,class:"alert alert-danger"},L={key:2,class:"alert alert-info"},R={key:3,class:"row g-3"},E={class:"card"},V={class:"card-body"},$={class:"card-title"},B={class:"d-flex justify-content-between align-items-center mb-2"},F={class:"d-flex justify-content-between align-items-center"},H={class:"mt-4"},J={__name:"Historial",setup(y){const l=u([]),c=u(!0),_=u(""),S=t=>{const s=new Date(t),i=["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],a=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"];return`${i[s.getDay()]} ${s.getDate()} ${a[s.getMonth()]} ${s.getFullYear()}`},v=t=>({A_TIEMPO:"A Tiempo",TARDANZA:"Tardanza",SIN_HORARIO:"Sin Horario",SALIDA_OK:"Salida OK",SALIDA_ANTICIPADA:"Salida Anticipada",SIN_SALIDA:"Sin Salida"})[t]||t,A=t=>({A_TIEMPO:"badge-a-tiempo",TARDANZA:"badge-tardanza",SIN_HORARIO:"bg-secondary",SALIDA_OK:"badge-salida-ok",SALIDA_ANTICIPADA:"badge-salida-anticipada",SIN_SALIDA:"badge-sin-salida"})[t]||"bg-secondary";return I(async()=>{var t,s;try{l.value=await M.getMisRegistros()}catch(i){_.value=((s=(t=i.response)==null?void 0:t.data)==null?void 0:s.detail)||"Error al cargar asistencias"}finally{c.value=!1}}),(t,s)=>{const i=N("router-link");return n(),o("div",null,[m(k),e("div",O,[e("div",T,[e("div",w,[s[4]||(s[4]=e("h3",{class:"mb-4"},"Mis Asistencias",-1)),c.value?(n(),o("div",x,[...s[0]||(s[0]=[e("div",{class:"spinner-border text-primary",role:"status"},[e("span",{class:"visually-hidden"},"Cargando...")],-1)])])):r("",!0),_.value?(n(),o("div",C,d(_.value),1)):r("",!0),!c.value&&l.value.length===0?(n(),o("div",L," No tienes registros de asistencia todavía ")):r("",!0),!c.value&&l.value.length>0?(n(),o("div",R,[(n(!0),o(f,null,h(l.value,a=>(n(),o("div",{key:a.id,class:"col-md-6"},[e("div",E,[e("div",V,[e("h5",$,d(S(a.fecha)),1),e("div",B,[e("span",null,[s[1]||(s[1]=e("strong",null,"Entrada:",-1)),g(" "+d(a.hora_entrada||"Sin registro"),1)]),a.estado_entrada?(n(),o("span",{key:0,class:p([A(a.estado_entrada),"badge"])},d(v(a.estado_entrada)),3)):r("",!0)]),e("div",F,[e("span",null,[s[2]||(s[2]=e("strong",null,"Salida:",-1)),g(" "+d(a.hora_salida||"Sin registro"),1)]),a.estado_salida?(n(),o("span",{key:0,class:p([A(a.estado_salida),"badge"])},d(v(a.estado_salida)),3)):r("",!0)])])])]))),128))])):r("",!0),e("div",H,[m(i,{to:"/",class:"btn btn-secondary"},{default:D(()=>[...s[3]||(s[3]=[g(" Volver al Inicio ",-1)])]),_:1})])])])])])}}};export{J as default};
